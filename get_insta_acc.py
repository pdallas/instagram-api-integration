from defines import makeApiCall, getCredsdef getUserPages(params):    """ Get facebook pages for a user    API Endpoint:        https://graph.facebook.com/{graph-api-version}/me/accounts?access_token={access-token}    Returns:        object: data from the endpoint    """    endpointParams = dict()  # parameter to send to the endpoint    endpointParams['access_token'] = params['access_token']  # access token    url = params['endpoint_base'] + 'me/accounts'  # endpoint url    return makeApiCall(url, endpointParams, params['debug'])  # make the api calldef getFBid(params):    """ Get all facebook id's by iterating through api's response @getUserPages    Returns :        list: all of user's facebook page ids    """    response = getUserPages(params)    all_FB_ids = []    for count, _ in enumerate(response['json_data']['data']):        all_FB_ids.append(response['json_data']['data'][count]['id'])    return all_FB_ids# <=============================== ISTAGRAM ACCOUNT CONNECTED TO A FB ACCOUNT =========================================># ref : https://developers.facebook.com/docs/instagram-api/reference/pagedef getInstagramAccount(params):    """ Get instagram account    API Endpoint:        https://graph.facebook.com/{graph-api-version}/{page-id}?access_token={your-access-token}&fields=instagram_business_account    Returns:        object: data from the endpoint    """    endpointParams = dict()  # parameter to send to the endpoint    endpointParams['access_token'] = params['access_token']  # tell facebook we want to exchange token    endpointParams['fields'] = 'instagram_business_account'  # access token    url = params['endpoint_base'] + params['page_id']  # endpoint url    return makeApiCall(url, endpointParams, params['debug'])  # make the api calldef getIGid(params):    """ Get all instagram business id's by calling the api for each diffrent fb id.        Returns :            list: all of user's instagram business account ids        """    # get the list of all fb id's by calling getFBid    allfbids = getFBid(params)    all_insta_ids = []    # for each facebook id, call getInstagramAccount and get the response from the api -->instagram buisness account id    for i in range(len(allfbids)):        # change parameter page_id after every loop        params['page_id'] = allfbids[i]        response = getInstagramAccount(params)        all_insta_ids.append(response['json_data']['instagram_business_account']['id'])    return all_insta_ids# <========================================= USER PAGE ======================================================># ref : https://developers.facebook.com/docs/instagram-api/reference/userdef getUser(params):    """ Get Instagram user information from the given instagram business id    API Endpoint:        https://graph.facebook.com/{graph-api-version}/{ig-user-id}?access_token={your-access-token}&fields={fields}    Returns:        object: data from the endpoint    """    endpointParams = dict()  # parameter to send to the endpoint    endpointParams['access_token'] = params['access_token']  # access token    endpointParams['fields'] = 'name,username,id,followers_count,media_count,biography'    url = params['endpoint_base'] + params['instagram_account_id']  # endpoint url    return makeApiCall(url, endpointParams, params['debug'])  # make the api calldef getIgUserInfo(params):    # get the list of all ig id's by calling getIGid    alligids = getIGid(params)    all_insta_info = []    # for each instagram id, call getUser and get the response from the api --> instagram name, id, followers etc.    for t in range(len(alligids)):        # change parameter instagram_account_id after every loop        params['instagram_account_id'] = alligids[t]        response = getUser(params)        all_insta_info.append(response['json_data'])    return all_insta_infoparams = getCreds()params["debug"] = 'yes'print(getIgUserInfo(params))